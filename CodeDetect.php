<?php eval("?>".base64_decode("PD9waHANCnNlc3Npb25fc3RhcnQoKTsNCiRpbmlfYXJyYXkgPSBwYXJzZV9pbmlfZmlsZSgiY29uZmlnLmluaSIsIHRydWUpOw0KDQppZiAoIWlzc2V0KCRfU0VSVkVSWydQSFBfQVVUSF9VU0VSJ10pICE9ICRpbmlfYXJyYXlbJ290aGVyJ11bJ3VzZXInXSBBTkQgJF9TRVJWRVJbJ1BIUF9BVVRIX1BXJ10gIT0gJGluaV9hcnJheVsnb3RoZXInXVsncGFzc3dvcmQnXSApIHsNCiAgICB1bnNldCgkX1NFUlZFUlsnUEhQX0FVVEhfVVNFUiddKTsNCn0NCmlmICghaXNzZXQoJF9TRVJWRVJbJ1BIUF9BVVRIX1VTRVInXSkpIHsNCiAgICBoZWFkZXIoJ1dXVy1BdXRoZW50aWNhdGU6IEJhc2ljIHJlYWxtPSJNeSBSZWFsbSInKTsNCiAgICBoZWFkZXIoJ0hUVFAvMS4wIDQwMSBVbmF1dGhvcml6ZWQnKTsNCiAgICBlY2hvICdDb2RlIERldGVjdCBVbmF1dGhvcml6ZWQnOw0KICAgIGV4aXQ7DQp9DQo/Pg0KDQo8IURPQ1RZUEUgaHRtbD4NCjxodG1sIGxhbmc9ImVuIj4NCjxoZWFkPg0KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04Ij4NCiAgICA8bWV0YSBodHRwLWVxdWl2PSJYLVVBLUNvbXBhdGlibGUiIGNvbnRlbnQ9IklFPWVkZ2UiPg0KICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSI+DQogICAgPCEtLSBUaGUgYWJvdmUgMyBtZXRhIHRhZ3MgKm11c3QqIGNvbWUgZmlyc3QgaW4gdGhlIGhlYWQ7IGFueSBvdGhlciBoZWFkIGNvbnRlbnQgbXVzdCBjb21lICphZnRlciogdGhlc2UgdGFncyAtLT4NCiAgICA8dGl0bGU+Q29kZSBEZXRlY3Q8L3RpdGxlPg0KPCEtLSBMYXRlc3QgY29tcGlsZWQgYW5kIG1pbmlmaWVkIENTUyAtLT4NCjxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4zLjQvY3NzL2Jvb3RzdHJhcC5taW4uY3NzIj4NCjwhLS0gT3B0aW9uYWwgdGhlbWUgLS0+DQo8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vYm9vdHN0cmFwLzMuMy40L2Nzcy9ib290c3RyYXAtdGhlbWUubWluLmNzcyI+DQo8IS0tIExhdGVzdCBjb21waWxlZCBhbmQgbWluaWZpZWQgSmF2YVNjcmlwdCAtLT4NCjxzY3JpcHQgc3JjPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjMuNC9qcy9ib290c3RyYXAubWluLmpzIj48L3NjcmlwdD4NCjwvaGVhZD4NCjxib2R5Pg0KPGRpdiBjbGFzcz0iY29udGFpbmVyIj4NCiAgICA8ZGl2Pg0KICAgICAgICA8P3BocA0KICAgICAgICAvKg0KICAgICAgICAkaW5pX2FycmF5ID0gcGFyc2VfaW5pX2ZpbGUoImNvbmZpZy5pbmkiLCB0cnVlKTsNCiAgICAgICAgZWNobyAiPHByZT4iOw0KICAgICAgICBwcmludF9yKCRpbmlfYXJyYXlbJ290aGVyJ10pOw0KICAgICAgICBlY2hvICI8L3ByZT4iOyovDQogICAgICAgID8+DQogICAgICAgIDxoMT5Db2RlIERldGVjdDwvaDE+DQogICAgICAgIDx1bCBjbGFzcz0ibGlzdC1pbmxpbmUiPg0KICAgICAgICAgICAgPGxpPjxhIGhyZWY9Ij8iPlsgSW5kZXggXTwvYT4gPC9saT4NCiAgICAgICAgICAgIDxsaT48YSBocmVmPSI/cD0xIj5bIGdlbmVyYXRvciBdPC9hPjwvbGk+DQogICAgICAgICAgICA8bGk+PGEgaHJlZj0iP3A9MiI+WyByZSBnZW5lcmF0b3IgXTwvYT48L2xpPg0KICAgICAgICAgICAgPGxpPjxhIGhyZWY9Ij9wPTMiPlsgcmVtb3ZlIF08L2E+PC9saT4NCiAgICAgICAgICAgIDxsaT48YSBocmVmPSI/cD00Ij5bIGNoZWNrIF08L2E+PC9saT4NCiAgICAgICAgICAgIDxsaT48YSBocmVmPSI/cD01Ij5bIHJldG9yZSBdPC9hPjwvbGk+DQogICAgICAgIDwvdWw+DQogICAgICAgIDxocj4NCiAgICA8L2Rpdj4NCjxwcmU+DQo8P3BocA0KaWYgKGlzc2V0KCRfR0VUWydwJ10pKSB7DQogICAgaWYgKCRfR0VUWydwJ10gPT0gMSkgew0KICAgICAgICBnZW4oKTsNCiAgICB9IGVsc2UgaWYgKCRfR0VUWydwJ10gPT0gMikgew0KICAgICAgICB1cCgpOw0KICAgIH0gZWxzZSBpZiAoJF9HRVRbJ3AnXSA9PSAzKSB7DQogICAgICAgIHJlbW92ZSgpOw0KICAgIH0gZWxzZSBpZiAoJF9HRVRbJ3AnXSA9PSA0KSB7DQogICAgICAgIGNoZWNrKCk7DQogICAgfSAgZWxzZSBpZiAoJF9HRVRbJ3AnXSA9PSA1KSB7DQogICAgICAgIGVjaG8gIldobyBBbSBJIjsNCiAgICB9IGVsc2Ugew0KICAgICAgICBlY2hvICJXaG8gQW0gSSI7DQogICAgfQ0KfSBlbHNlIHsNCiAgICBlY2hvIDw8PEhUTUwNCldobyBBTSBJPGJyPg0KdmVyLiAxLjENCkhUTUw7DQoNCn0NCj8+DQo8L3ByZT4NCjxocj4NCiAgICBQb3dlcmVkIEJ5IDxhIGhyZWY9Imh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9hb21taWV6IiB0YXJnZXQ9Il9ibGFuayI+TVJHPC9hPiBSZXF1ZXN0IG9yIFN1cHBvcnQgOiBhb21taWV6QGdtYWlsLmNvbQ0KPC9kaXY+DQogICAgPC9ib2R5Pg0KPC9odG1sPg0KPD9waHANCmZ1bmN0aW9uIGdlbiAoKSB7DQogICAgJGluaSA9IHBhcnNlX2luaV9maWxlKCJjb25maWcuaW5pIiwgdHJ1ZSk7DQogICAgJGFhYSA9ICRpbmlbJ290aGVyJ11bJ2ZpbGUnXTsNCiAgICAkYWFhID0gZXhwbG9kZSgiLCIsICRhYWEpOw0KICAgICRmaWxlX25vdF9kZXRlY3QgPSAkaW5pWydvdGhlciddWydmaWxlX25hbWVfbm90X2RldGVjdCddOw0KICAgICRmaWxlX25vdF9kZXRlY3QgPSBleHBsb2RlKCcsJywkZmlsZV9ub3RfZGV0ZWN0KTsNCiAgICAkZGkgPSBuZXcgUmVjdXJzaXZlRGlyZWN0b3J5SXRlcmF0b3IoX19ESVJfXyxSZWN1cnNpdmVEaXJlY3RvcnlJdGVyYXRvcjo6U0tJUF9ET1RTKTsNCiAgICAkaXQgPSBuZXcgUmVjdXJzaXZlSXRlcmF0b3JJdGVyYXRvcigkZGkpOw0KICAgIGZvcmVhY2goJGl0IGFzICRmaWxlKQ0KICAgIHsNCiAgICAgICAgaWYoaW5fYXJyYXkocGF0aGluZm8oJGZpbGUsUEFUSElORk9fRVhURU5TSU9OKSwkYWFhKSkgew0KICAgICAgICAgICAgJGluZm8gPSBwYXRoaW5mbygkZmlsZSk7DQogICAgICAgICAgICAkZmlsZV9uYW1lID0gIGJhc2VuYW1lKCRmaWxlLCcuJy4kaW5mb1snZXh0ZW5zaW9uJ10pOw0KICAgICAgICAgICAgJG5mID0gJGZpbGVfbm90X2RldGVjdDsNCiAgICAgICAgICAgIGlmICghaW5fYXJyYXkoJGZpbGVfbmFtZSwgJG5mKSkgew0KICAgICAgICAgICAgICAgICRuID0gc3RyX3JlcGxhY2UoJGFhYSwnbXJnJywkZmlsZSk7DQogICAgICAgICAgICAgICAgJGYgPSBmb3BlbigkbiwidyIpOw0KICAgICAgICAgICAgICAgIGZ3cml0ZSgkZixiYXNlNjRfZW5jb2RlKGJhc2U2NF9lbmNvZGUobWQ1X2ZpbGUoJGZpbGUpLmRhdGUoImQubS55IEg6aTpzLiIsIGZpbGVtdGltZSgkZmlsZSkpKS4nTVJHJykuUEhQX0VPTCk7DQogICAgICAgICAgICAgICAgZmNsb3NlKCRmKTsNCiAgICAgICAgICAgICAgICAkbGluZXMgPSBmaWxlKCRmaWxlKTsNCiAgICAgICAgICAgICAgICAkeiA9IGZvcGVuKCRuLCAnYScpOw0KICAgICAgICAgICAgICAgIGZvcmVhY2ggKCRsaW5lcyBhcyAkbGluZV9udW0gPT4gJGxpbmUpIHsNCiAgICAgICAgICAgICAgICAgICAgZndyaXRlKCR6LCAnIycuJGxpbmVfbnVtLiI6Ii4kbGluZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGZjbG9zZSgkeik7DQogICAgICAgICAgICAgICAgZWNobyAkZmlsZSAsUEhQX0VPTC4iIGdlbmVyYXRvciBzdWNjZXNzIDxicj4iOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KfQ0KZnVuY3Rpb24gcmVtb3ZlICgpIHsNCiAgICAkZGkgPSBuZXcgUmVjdXJzaXZlRGlyZWN0b3J5SXRlcmF0b3IoX19ESVJfXyxSZWN1cnNpdmVEaXJlY3RvcnlJdGVyYXRvcjo6U0tJUF9ET1RTKTsNCiAgICAkaXQgPSBuZXcgUmVjdXJzaXZlSXRlcmF0b3JJdGVyYXRvcigkZGkpOw0KICAgIGZvcmVhY2goJGl0IGFzICRmaWxlKQ0KICAgIHsNCiAgICAgICAgaWYocGF0aGluZm8oJGZpbGUsUEFUSElORk9fRVhURU5TSU9OKSA9PSAibXJnIikgew0KICAgICAgICAgICAgdW5saW5rKCRmaWxlKTsNCiAgICAgICAgICAgIGVjaG8gJGZpbGUgLFBIUF9FT0wuIiBSZW1vdmUgc3VjY2VzcyA8YnI+IjsNCiAgICAgICAgfQ0KICAgIH0NCn0NCmZ1bmN0aW9uIGNoZWNrICgpIHsNCiAgICAkZGkgPSBuZXcgUmVjdXJzaXZlRGlyZWN0b3J5SXRlcmF0b3IoX19ESVJfXyxSZWN1cnNpdmVEaXJlY3RvcnlJdGVyYXRvcjo6U0tJUF9ET1RTKTsNCiAgICAkaXQgPSBuZXcgUmVjdXJzaXZlSXRlcmF0b3JJdGVyYXRvcigkZGkpOw0KICAgICRtbSA9ICJQSFAgQ29kZSBEZXRlY3QgTG9ncyBSZXBvcnQgOiAiLmdldF9EYXRldGltZV9Ob3coKTsNCiAgICAkZmEgPSAwOw0KICAgICRvayA9IDA7DQogICAgJGluaSA9IHBhcnNlX2luaV9maWxlKCJjb25maWcuaW5pIiwgdHJ1ZSk7DQogICAgJGFhYSA9ICRpbmlbJ290aGVyJ11bJ2ZpbGUnXTsNCiAgICAkYWFhID0gZXhwbG9kZSgiLCIsICRhYWEpOw0KICAgICRmaWxlX25vdF9kZXRlY3QgPSAkaW5pWydvdGhlciddWydmaWxlX25hbWVfbm90X2RldGVjdCddOw0KICAgICRmaWxlX25vdF9kZXRlY3QgPSBleHBsb2RlKCcsJywkZmlsZV9ub3RfZGV0ZWN0KTsNCiAgICBmb3JlYWNoKCRpdCBhcyAkZmlsZSkNCiAgICB7DQogICAgICAgIGlmKGluX2FycmF5KHBhdGhpbmZvKCRmaWxlLFBBVEhJTkZPX0VYVEVOU0lPTiksJGFhYSkpIHsNCiAgICAgICAgICAgICRpbmZvID0gcGF0aGluZm8oJGZpbGUpOw0KICAgICAgICAgICAgJGZpbGVfbmFtZSA9ICBiYXNlbmFtZSgkZmlsZSwnLicuJGluZm9bJ2V4dGVuc2lvbiddKTsNCiAgICAgICAgICAgICRuZiA9ICRmaWxlX25vdF9kZXRlY3Q7DQogICAgICAgICAgICBpZiAoIWluX2FycmF5KCRmaWxlX25hbWUsICRuZikpIHsNCiAgICAgICAgICAgICAgICAkbiA9IHN0cl9yZXBsYWNlKCRhYWEsJ21yZycsJGZpbGUpOw0KICAgICAgICAgICAgICAgIGlmIChmaWxlX2V4aXN0cygkbikpIHsNCiAgICAgICAgICAgICAgICAgICAgJG0gPSBmb3BlbigkbiwgInIiKTsNCiAgICAgICAgICAgICAgICAgICAgJGcgPSBmZ2V0cygkbSk7DQogICAgICAgICAgICAgICAgICAgIGZjbG9zZSgkbSk7DQogICAgICAgICAgICAgICAgICAgICRjID0gYmFzZTY0X2RlY29kZSgkZyk7DQogICAgICAgICAgICAgICAgICAgICRhID0gc3Vic3RyX3JlcGxhY2UoJGMgLCIiLC0zKTsNCiAgICAgICAgICAgICAgICAgICAgJGIgPSBiYXNlNjRfZGVjb2RlKCRhKTsNCiAgICAgICAgICAgICAgICAgICAgJGQgPSBzdWJzdHIoJGIsIDAsIDMyKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCRkID09IG1kNV9maWxlKCRmaWxlKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgJG9rKys7DQogICAgICAgICAgICAgICAgICAgICAgICAkbW0gLj0gIjxkaXYgc3R5bGU9XCJjb2xvcjpmb3Jlc3RncmVlbjtcIj5GaWxlIDogeyRmaWxlfSAtPiB7JGd9IDogTWF0aCA8L2Rpdj4iOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgJGZhKys7DQogICAgICAgICAgICAgICAgICAgICAgICAkbW0gLj0gIjxkaXYgc3R5bGU9XCJjb2xvcjpyZWQ7XCI+RmlsZSA6IHskZmlsZX0gLT4geyRnfSA6IE5vdCBNYXRoIDwvZGl2PiI7DQogICAgICAgICAgICAgICAgICAgICAgICAkb2xkID0gYXJyYXlfc2xpY2UoZmlsZSgkbiksMSk7DQogICAgICAgICAgICAgICAgICAgICAgICAkbmV3ID0gZmlsZSgkZmlsZSk7DQogICAgICAgICAgICAgICAgICAgICAgICBmb3JlYWNoICggJG9sZCBhcyAka2V5ID0+ICR2YWx1ZSApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkb2xkWyRrZXldID0gcHJlZ19yZXBsYWNlKCcvXiMrKFxkKSs6LycsJycsICRvbGRbJGtleV0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkb2xkWyRrZXldICE9ICRuZXdbJGtleV0pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1tIC49ICI8ZGl2PiBMaW5lIDogIi4oJGtleSsxKS4iPC9kaXY+IjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAkbW0gLj0gIjxkaXYgc3R5bGU9XCJjb2xvcjpjb3JuZmxvd2VyYmx1ZTtcIj5UaGUgZmlsZSB7JG59IGRvZXMgbm90IGV4aXN0PC9kaXY+IjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgJGluaSA9IHBhcnNlX2luaV9maWxlKCJjb25maWcuaW5pIiwgdHJ1ZSk7DQogICAgaWYgKCRpbmlbJ2VtYWlsJ11bJ3N0YXR1cyddKSB7DQogICAgICAgICR0byA9ICRpbmlbJ2VtYWlsJ11bJ3RvJ107DQogICAgICAgICRzdWJqZWN0ID0gIkNvZGUgRGV0ZWN0IExvZ3MgUmVwb3J0ICIuZ2V0X0RhdGV0aW1lX05vdygpOw0KICAgICAgICAkbW1tID0gIkZpbGUgTWF0aCA6ICIuJG9rLiI8YnI+IjsNCiAgICAgICAgJG1tbW0gPSAiRmlsZSBOb3QgTWF0aCA6ICIuJGZhLiI8YnI+IjsNCiAgICAgICAgJG1lc3NhZ2UgPSAkbW1tLiRtbW1tLiRtbTsNCiAgICAgICAgJGhlYWRlcnMgPSAiTUlNRS1WZXJzaW9uOiAxLjAiIC4gIlxyXG4iOw0KICAgICAgICAkaGVhZGVycyAuPSAiQ29udGVudC10eXBlOnRleHQvaHRtbDtjaGFyc2V0PVVURi04IiAuICJcclxuIjsNCiAgICAgICAgJGhlYWRlcnMgLj0gIkZyb206ICIuJGluaVsnZW1haWwnXVsnZnJvbSddOw0KICAgICAgICBpZiAobWFpbCgkdG8sJHN1YmplY3QsJG1lc3NhZ2UsJGhlYWRlcnMpKSB7DQogICAgICAgICAgICBlY2hvICJTZW5kIExvZ3MgdG8gIiAuICR0byAuJyBTdWNjZXNzPGJyPic7DQogICAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgICBpZiAoJGZhID4gMCkgew0KICAgICAgICAgICAgaWYgKCRpbmlbJ2VtYWlsJ11bJ25vdF9tYXRoX3NlbmRfbWFpbCddKSB7DQogICAgICAgICAgICAgICAgJHRvID0gJGluaVsnZW1haWwnXVsndG8nXTsNCiAgICAgICAgICAgICAgICAkc3ViamVjdCA9ICJDb2RlIERldGVjdCBMb2dzIFJlcG9ydCAiLmdldF9EYXRldGltZV9Ob3coKTsNCiAgICAgICAgICAgICAgICAkbW1tID0gIkZpbGUgTWF0aCA6ICIuJG9rLiI8YnI+IjsNCiAgICAgICAgICAgICAgICAkbW1tbSA9ICJGaWxlIE5vdCBNYXRoIDogIi4kZmEuIjxicj4iOw0KICAgICAgICAgICAgICAgICRtZXNzYWdlID0gJG1tbS4kbW1tbS4kbW07DQogICAgICAgICAgICAgICAgLy8gQWx3YXlzIHNldCBjb250ZW50LXR5cGUgd2hlbiBzZW5kaW5nIEhUTUwgZW1haWwNCiAgICAgICAgICAgICAgICAkaGVhZGVycyA9ICJNSU1FLVZlcnNpb246IDEuMCIgLiAiXHJcbiI7DQogICAgICAgICAgICAgICAgJGhlYWRlcnMgLj0gIkNvbnRlbnQtdHlwZTp0ZXh0L2h0bWw7Y2hhcnNldD1VVEYtOCIgLiAiXHJcbiI7DQogICAgICAgICAgICAgICAgLy8gTW9yZSBoZWFkZXJzDQogICAgICAgICAgICAgICAgJGhlYWRlcnMgLj0gIkZyb206ICIuJGluaVsnZW1haWwnXVsnZnJvbSddOw0KICAgICAgICAgICAgICAgIGlmIChtYWlsKCR0bywkc3ViamVjdCwkbWVzc2FnZSwkaGVhZGVycykpIHsNCiAgICAgICAgICAgICAgICAgICAgZWNobyAiU2VuZCBMb2dzIHRvICIgLiAkdG8gLicgU3VjY2Vzczxicj4nOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCiAgICBlY2hvICJGaWxlIE1hdGggOiAiLiRvay4iPGJyPiI7DQogICAgZWNobyAiRmlsZSBOb3QgTWF0aCA6ICIuJGZhLiI8YnI+IjsNCiAgICBwcmludF9yKCRtbSk7DQp9DQpmdW5jdGlvbiB1cCAoKSB7DQogICAgcmVtb3ZlKCk7DQogICAgZ2VuKCk7DQogICAgZWNobyAiUmUgZ2VuZXJhdG9yIHN1Y2Nlc3MiOw0KfQ0KZnVuY3Rpb24gZ2V0X0RhdGV0aW1lX05vdygpIHsNCiAgICAkaW5pID0gcGFyc2VfaW5pX2ZpbGUoImNvbmZpZy5pbmkiLCB0cnVlKTsNCiAgICAkdHpfb2JqZWN0ID0gbmV3IERhdGVUaW1lWm9uZSgkaW5pWydvdGhlciddWyd0aW1lX3pvbmUnXSk7DQogICAgJGRhdGV0aW1lID0gbmV3IERhdGVUaW1lKCk7DQogICAgJGRhdGV0aW1lLT5zZXRUaW1lem9uZSgkdHpfb2JqZWN0KTsNCiAgICByZXR1cm4gJGRhdGV0aW1lLT5mb3JtYXQoJ1lcLW1cLWRcIGg6aTpzJyk7DQp9DQo=")); ?>
